<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Docutils 0.20.1: https://docutils.sourceforge.io/" />
<title>The ternary operator</title>
<link rel="stylesheet" href="aux/min.css" type="text/css" />
</head>
<body>
<div class="document" id="the-ternary-operator">
<h1 class="title">The ternary operator</h1>

<p>In languages like C and Java, there is a pattern that
often occurs in programs:</p>
<pre class="code java literal-block">
<span class="c1">// Example 1</span><span class="w">
</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">age</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="mi">18</span><span class="p">)</span><span class="w">
   </span><span class="n">price</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">30</span><span class="p">;</span><span class="w">
</span><span class="k">else</span><span class="w">
   </span><span class="n">price</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">25</span><span class="p">;</span><span class="w">

</span><span class="c1">// Example 2</span><span class="w">
</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">turningRight</span><span class="p">)</span><span class="w">
   </span><span class="n">angle</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">90</span><span class="p">;</span><span class="w">
</span><span class="k">else</span><span class="w">
   </span><span class="n">angle</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">-</span><span class="mi">90</span><span class="p">;</span><span class="w">

</span><span class="c1">// Example 3</span><span class="w">
</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">value</span><span class="p">.</span><span class="na">equals</span><span class="p">(</span><span class="s">&quot;1&quot;</span><span class="p">))</span><span class="w">
   </span><span class="n">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span><span class="p">;</span><span class="w">
</span><span class="k">else</span><span class="w">
   </span><span class="n">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="p">;</span>
</pre>
<p>The common pattern in these examples is “set a variable to some value
if a condition holds, otherwise set it to another value.” We can
abstract it as follows:</p>
<blockquote>
<p><tt class="docutils literal">if (</tt> &lt;condition&gt; <tt class="docutils literal">)</tt></p>
<blockquote>
&lt;name&gt; <tt class="docutils literal">=</tt> &lt;value1&gt; <tt class="docutils literal">;</tt></blockquote>
<p><tt class="docutils literal">else</tt></p>
<blockquote>
&lt;name&gt; <tt class="docutils literal">=</tt> &lt;value2&gt; <tt class="docutils literal">;</tt></blockquote>
</blockquote>
<p>This pattern is so often used that the designers of the C language
have created a shorthand construct for this, that is also available in
C++ and Java.</p>
<div class="section" id="the-conditional-expression">
<h1>The conditional expression</h1>
<p>Syntax:</p>
<blockquote>
<p>&lt;condition&gt; <tt class="docutils literal">?</tt> &lt;expression1&gt; <tt class="docutils literal">:</tt> &lt;expression2&gt;</p>
<p>(a conditional expression, followed by a question mark, followed by
an expression, followed by a colon “<tt class="docutils literal">:</tt>”, followed by another expression)</p>
</blockquote>
<p>Semantics:</p>
<blockquote>
The expression on the left is evaluated first. If it evaluates
to “true”, the expression in the middle is evaluated and its result is returned.
Otherwise, the expression on the right is evaluated and its result is returned.</blockquote>
<p>For example:</p>
<pre class="code java literal-block">
<span class="n">price</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">age</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="mi">18</span><span class="p">)</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="mi">30</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">25</span><span class="p">;</span><span class="w">

</span><span class="n">angle</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">turningRight</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="mi">90</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="o">-</span><span class="mi">90</span><span class="p">;</span><span class="w">

</span><span class="n">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">value</span><span class="p">.</span><span class="na">equals</span><span class="p">(</span><span class="s">&quot;1&quot;</span><span class="p">)</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="kc">true</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">;</span>
</pre>
<p>This construct abstracts over the general pattern of conditional assignment to
a variable. It is even slightly more powerful, because we can nest it!</p>
<p>For example:</p>
<pre class="code java literal-block">
<span class="n">price</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">age</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">6</span><span class="p">)</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">((</span><span class="n">age</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">18</span><span class="p">)</span><span class="w"> </span><span class="o">?</span><span class="w"> </span><span class="mi">25</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="mi">30</span><span class="p">);</span><span class="w">

</span><span class="c1">// is equivalent to:</span><span class="w">
</span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">age</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">6</span><span class="p">)</span><span class="w">
   </span><span class="n">price</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">5</span><span class="p">;</span><span class="w">
</span><span class="k">else</span><span class="w">
   </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">age</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="mi">18</span><span class="p">)</span><span class="w">
      </span><span class="n">price</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">25</span><span class="p">;</span><span class="w">
   </span><span class="k">else</span><span class="w">
      </span><span class="n">price</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">30</span><span class="p">;</span>
</pre>
<p>This construct is called the <em>conditional expression</em>, not to be
confused with the conditional statement that uses “<tt class="docutils literal">if</tt>”.</p>
<p>We name:</p>
<ul class="simple">
<li>“conditional expression” an instance of the construct, when
the three expressions are filled in;</li>
<li><em>“conditional operator”</em> the punctuation characters “<tt class="docutils literal"><span class="pre">?:</span></tt>”.</li>
</ul>
<p>In other words the conditional expression combines three expressions
with the conditional operator.</p>
</div>
<div class="section" id="ternary-operator">
<h1>Ternary operator</h1>
<p>The conditional operator is also called <em>ternary operator</em> because it
has three positions. It is called “the” ternary operator in C and Java
because it is the only operator with 3 positions in the language.</p>
</div>
<div class="section" id="important-concepts">
<h1>Important concepts</h1>
<ul class="simple">
<li>definition of the <em>conditional expression</em>;</li>
<li>difference between conditional expression (using “?:”)  and conditional statement (using “<tt class="docutils literal">if</tt>”);</li>
<li>difference between conditional expression and conditional operator</li>
<li>the alternative name <em>“ternary operator”</em> for the conditional operator</li>
</ul>
</div>
<div class="section" id="further-reading">
<h1>Further reading</h1>
<ul class="simple">
<li>Introduction to Programming, section 2.5.5 (p. 51)</li>
<li>Absolute Java, section 3.1 (pp. 112-113)</li>
</ul>
</div>
<hr class="docutils" />
<div class="section" id="copyright-and-licensing">
<h1>Copyright and licensing</h1>
<p>Copyright © 2014, Raphael ‘kena’ Poss.
Permission is granted to distribute, reuse and modify this document
according to the terms of the Creative Commons Attribution-ShareAlike
4.0 International License.  To view a copy of this license, visit
<a class="reference external" href="http://creativecommons.org/licenses/by-sa/4.0/">http://creativecommons.org/licenses/by-sa/4.0/</a>.</p>
</div>
</div>
</body>
</html>
