<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Docutils 0.20.1: https://docutils.sourceforge.io/" />
<title>Functional recursion</title>
<link rel="stylesheet" href="aux/min.css" type="text/css" />
</head>
<body>
<div class="document" id="functional-recursion">
<h1 class="title">Functional recursion</h1>

<p>“Recursion” is a programming technique whereby the algorithm to solve
a problem is decomposed into a <em>base case</em> where the result is simple,
and a <em>general case</em> where the result is a computation that reuses the
computation for a simpler case.</p>
<p>The technique is closely related to the <em>principle of induction</em> in
mathematics. Actually, the little-known but very effective trick to
learn to use recursion is to first ignore all aspects related to
programming and concentrate on the mathematical notion of induction as
a first step.</p>
<div class="contents topic" id="contents">
<p class="topic-title">Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#inductive-definitions-in-maths" id="toc-entry-1">Inductive definitions in maths</a></li>
<li><a class="reference internal" href="#finding-your-own-inductive-definition" id="toc-entry-2">Finding your own inductive definition</a></li>
<li><a class="reference internal" href="#from-mathematical-definition-to-recursive-function" id="toc-entry-3">From mathematical definition to recursive function</a></li>
<li><a class="reference internal" href="#important-concepts" id="toc-entry-4">Important concepts</a></li>
<li><a class="reference internal" href="#further-reading" id="toc-entry-5">Further reading</a></li>
<li><a class="reference internal" href="#copyright-and-licensing" id="toc-entry-6">Copyright and licensing</a></li>
</ul>
</div>
<div class="section" id="inductive-definitions-in-maths">
<h1><a class="toc-backref" href="#toc-entry-1">Inductive definitions in maths</a></h1>
<p>An <em>inductive definition</em> in maths is the definition of some object or
concept <span class="formula"><i>A</i>(<i>n</i>)</span>, depending on a non-negative integer parameter
<span class="formula"><i>n</i></span>, according to the following scheme: a) the value of a finite
number of base cases, at least one (eg. <span class="formula"><i>A</i>(0)</span>) is given; and b)
a rule is given for obtaining the value of <span class="formula"><i>A</i>(<i>n</i>)</span> from <span class="formula"><i>n</i></span>
and fixed number of values in <span class="formula"><i>A</i>(0)...<i>A</i>(<i>n</i> − 1)</span>.</p>
<p>Some typical inductive definitions:</p>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="32%" />
<col width="48%" />
</colgroup>
<thead valign="bottom">
<tr><th class="head">Function</th>
<th class="head">Base case(s)</th>
<th class="head">General case</th>
</tr>
</thead>
<tbody valign="top">
<tr><td><span class="formula"><i>n</i>!</span></td>
<td><span class="formula">0! = 1</span></td>
<td><span class="formula"><i>n</i>! = <i>n</i>×(<i>n</i> − 1)!</span></td>
</tr>
<tr><td><span class="formula"><i>x</i><sup><i>n</i></sup></span></td>
<td><span class="formula"><i>x</i><sup>0</sup> = 1</span></td>
<td><span class="formula"><i>x</i><sup><i>n</i></sup> = <i>x</i>×<i>x</i><sup><i>n</i> − 1</sup></span></td>
</tr>
<tr><td>Fibonacci</td>
<td><span class="formula"><i>F</i>(0) = <i>F</i>(1) = 1</span></td>
<td><span class="formula"><i>F</i>(<i>n</i>) = <i>F</i>(<i>n</i> − 1) + <i>F</i>(<i>n</i> − 2)</span></td>
</tr>
</tbody>
</table>
<p>For the purpose of this course, you need to learn how to write all
inductive definitions in maths according to the same fixed format:</p>
<ul class="simple">
<li>on the first line, the function name, the domain of its parameter(s) and its image set;</li>
<li>on the second and following lines, the base cases, expressed using the function name;</li>
<li>on the last line, the general case, expressed using the function name.</li>
</ul>
<p>For example:</p>
<p><span class="formula"><span class="array"><span class="arrayrow"><span class="bracket align-left">⎧</span></span><span class="arrayrow"><span class="bracket align-left">⎪</span></span><span class="arrayrow"><span class="bracket align-left">⎪</span></span><span class="arrayrow"><span class="bracket align-left">⎨</span></span><span class="arrayrow"><span class="bracket align-left">⎪</span></span><span class="arrayrow"><span class="bracket align-left">⎪</span></span><span class="arrayrow"><span class="bracket align-left">⎩</span></span></span><span class="array"><span class="arrayrow">
<span class="arraycell align-r">
<span class="text">fact</span> : ℕ
</span>
<span class="arraycell align-c">
 ↦ 
</span>
<span class="arraycell align-l">
ℕ<sup>*</sup>
</span>

</span>
<span class="arrayrow">
<span class="arraycell align-r">
 
</span>
<span class="arraycell align-c">
 
</span>
<span class="arraycell align-l">
 
</span>

</span>
<span class="arrayrow">
<span class="arraycell align-r">
<span class="text">fact</span>(0)
</span>
<span class="arraycell align-c">
 = 
</span>
<span class="arraycell align-l">
1
</span>

</span>
<span class="arrayrow">
<span class="arraycell align-r">
 
</span>
<span class="arraycell align-c">
 
</span>
<span class="arraycell align-l">
 
</span>

</span>
<span class="arrayrow">
<span class="arraycell align-r">
<span class="text"> fact</span>(<i>n</i>)
</span>
<span class="arraycell align-c">
 = 
</span>
<span class="arraycell align-l">
<i>n</i>×<span class="text">fact</span>(<i>n</i> − 1)
</span>

</span>
<span class="arrayrow">
<span class="arraycell align-r">
 
</span>
<span class="arraycell align-c">
 
</span>
<span class="arraycell align-l">
 
</span>

</span>
<span class="arrayrow">
<span class="arraycell align-r">

</span>

</span>
</span><span class="emptydot"></span></span></p>
<p>(Now how we use “fact(n)” instead of “n!” here.)</p>
<p><span class="formula"><span class="array"><span class="arrayrow"><span class="bracket align-left">⎧</span></span><span class="arrayrow"><span class="bracket align-left">⎪</span></span><span class="arrayrow"><span class="bracket align-left">⎪</span></span><span class="arrayrow"><span class="bracket align-left">⎨</span></span><span class="arrayrow"><span class="bracket align-left">⎪</span></span><span class="arrayrow"><span class="bracket align-left">⎪</span></span><span class="arrayrow"><span class="bracket align-left">⎩</span></span></span><span class="array"><span class="arrayrow">
<span class="arraycell align-r">
<span class="text">pow</span> : ℝ×ℕ
</span>
<span class="arraycell align-c">
 ↦ 
</span>
<span class="arraycell align-l">
ℝ
</span>

</span>
<span class="arrayrow">
<span class="arraycell align-r">
 
</span>
<span class="arraycell align-c">
 
</span>
<span class="arraycell align-l">
 
</span>

</span>
<span class="arrayrow">
<span class="arraycell align-r">
<span class="text">pow</span>(<i>x</i>, 0)
</span>
<span class="arraycell align-c">
 = 
</span>
<span class="arraycell align-l">
1
</span>

</span>
<span class="arrayrow">
<span class="arraycell align-r">
 
</span>
<span class="arraycell align-c">
 
</span>
<span class="arraycell align-l">
 
</span>

</span>
<span class="arrayrow">
<span class="arraycell align-r">
<span class="text"> pow</span>(<i>x</i>, <i>n</i>)
</span>
<span class="arraycell align-c">
 = 
</span>
<span class="arraycell align-l">
<i>x</i>×<span class="text">pow</span>(<i>x</i>, <i>n</i> − 1)
</span>

</span>
<span class="arrayrow">
<span class="arraycell align-r">
 
</span>
<span class="arraycell align-c">
 
</span>
<span class="arraycell align-l">
 
</span>

</span>
<span class="arrayrow">
<span class="arraycell align-r">

</span>

</span>
</span><span class="emptydot"></span></span></p>
<p>(Note how we use “pow(x,n)” instead of “<span class="formula"><i>x</i><sup><i>n</i></sup></span>” here.)</p>
<p><span class="formula"><span class="array"><span class="arrayrow"><span class="bracket align-left">⎧</span></span><span class="arrayrow"><span class="bracket align-left">⎪</span></span><span class="arrayrow"><span class="bracket align-left">⎪</span></span><span class="arrayrow"><span class="bracket align-left">⎪</span></span><span class="arrayrow"><span class="bracket align-left">⎨</span></span><span class="arrayrow"><span class="bracket align-left">⎪</span></span><span class="arrayrow"><span class="bracket align-left">⎪</span></span><span class="arrayrow"><span class="bracket align-left">⎪</span></span><span class="arrayrow"><span class="bracket align-left">⎩</span></span></span><span class="array"><span class="arrayrow">
<span class="arraycell align-r">
<span class="text">fib</span> : ℕ
</span>
<span class="arraycell align-c">
 ↦ 
</span>
<span class="arraycell align-l">
ℕ<sup>*</sup>
</span>

</span>
<span class="arrayrow">
<span class="arraycell align-r">
 
</span>
<span class="arraycell align-c">
 
</span>
<span class="arraycell align-l">
 
</span>

</span>
<span class="arrayrow">
<span class="arraycell align-r">
<span class="text">fib</span>(0)
</span>
<span class="arraycell align-c">
 = 
</span>
<span class="arraycell align-l">
1
</span>

</span>
<span class="arrayrow">
<span class="arraycell align-r">
 
</span>
<span class="arraycell align-c">
 
</span>
<span class="arraycell align-l">
 
</span>

</span>
<span class="arrayrow">
<span class="arraycell align-r">
<span class="text"> fib</span>(1)
</span>
<span class="arraycell align-c">
 = 
</span>
<span class="arraycell align-l">
1
</span>

</span>
<span class="arrayrow">
<span class="arraycell align-r">
 
</span>
<span class="arraycell align-c">
 
</span>
<span class="arraycell align-l">
 
</span>

</span>
<span class="arrayrow">
<span class="arraycell align-r">
<span class="text"> fib</span>(<i>n</i>)
</span>
<span class="arraycell align-c">
 = 
</span>
<span class="arraycell align-l">
<span class="text">fib</span>(<i>n</i> − 1) + <span class="text"> fib</span>(<i>n</i> − 2)
</span>

</span>
<span class="arrayrow">
<span class="arraycell align-r">
 
</span>
<span class="arraycell align-c">
 
</span>
<span class="arraycell align-l">
 
</span>

</span>
<span class="arrayrow">
<span class="arraycell align-r">

</span>

</span>
</span><span class="emptydot"></span></span></p>
</div>
<div class="section" id="finding-your-own-inductive-definition">
<h1><a class="toc-backref" href="#toc-entry-2">Finding your own inductive definition</a></h1>
<p>The idea to use inductive definition should come to mind automatically
as soon as you are faced with a description of what a function does based
on some examples using an ellipsis “...”.</p>
<p>Consider for example the following description:</p>
<blockquote>
<p>“Implement a function <tt class="docutils literal">sine(x,n)</tt> which approximates the trigonometric
function of the same name using its Taylor series with n terms, that is:</p>
<blockquote>
<tt class="docutils literal">sine(x,n) = x - x^3/3! + x^5/5! - x^7/7! + ...</tt></blockquote>
<p>with n terms, with n at least 1.”</p>
</blockquote>
<p>This description uses the ellipsis “...” so it invites an inductive definition.</p>
<p>Once you have this idea, you can achive an inductive definition as follows:</p>
<ol class="arabic simple">
<li>recognize in the description example which are the results for the
<em>most simple form(s)</em> of the function, and write this down. This
becomes the base case.</li>
<li><em>reformulate the function at a step n using the result at step n-1,
n and/or the other parameters.</em> Then write this down. This becomes
the general case.</li>
<li>Write down the resulting definition using the canonical format
described above.</li>
</ol>
<p>In the example above, the most general form is when n = 1:</p>
<blockquote>
<span class="formula"><span class="text">sine</span>(<i>x</i>, 1) = <i>x</i></span></blockquote>
<p>Then at a given term n:</p>
<blockquote>
<span class="formula"><span class="text">sine</span>(<i>x</i>, <i>n</i>) = <span class="text">sine</span>(<i>x</i>, <i>n</i> − 1) + ( − 1)<sup><i>n</i></sup><span class="fraction"><span class="ignored">(</span><span class="numerator"><i>x</i><sup>(2<i>n</i> − 1)</sup></span><span class="ignored">)/(</span><span class="denominator">(2<i>n</i> − 1)!</span><span class="ignored">)</span></span></span></blockquote>
<p>So we can then write using the canonical format:</p>
<p><span class="formula"><span class="array"><span class="arrayrow"><span class="bracket align-left">⎧</span></span><span class="arrayrow"><span class="bracket align-left">⎪</span></span><span class="arrayrow"><span class="bracket align-left">⎪</span></span><span class="arrayrow"><span class="bracket align-left">⎨</span></span><span class="arrayrow"><span class="bracket align-left">⎪</span></span><span class="arrayrow"><span class="bracket align-left">⎪</span></span><span class="arrayrow"><span class="bracket align-left">⎩</span></span></span><span class="array"><span class="arrayrow">
<span class="arraycell align-r">
<span class="text">sine</span> : ℝ×ℕ
</span>
<span class="arraycell align-c">
 ↦ 
</span>
<span class="arraycell align-l">
ℝ
</span>

</span>
<span class="arrayrow">
<span class="arraycell align-r">
 
</span>
<span class="arraycell align-c">
 
</span>
<span class="arraycell align-l">
 
</span>

</span>
<span class="arrayrow">
<span class="arraycell align-r">
<span class="text">sine</span>(<i>x</i>, 1)
</span>
<span class="arraycell align-c">
 = 
</span>
<span class="arraycell align-l">
<i>x</i>
</span>

</span>
<span class="arrayrow">
<span class="arraycell align-r">
 
</span>
<span class="arraycell align-c">
 
</span>
<span class="arraycell align-l">
 
</span>

</span>
<span class="arrayrow">
<span class="arraycell align-r">
<span class="text">sine</span>(<i>x</i>, <i>n</i>)
</span>
<span class="arraycell align-c">
 = 
</span>
<span class="arraycell align-l">
<span class="text">sine</span>(<i>x</i>, <i>n</i> − 1) + ( − 1)<sup><i>n</i></sup><span class="fraction"><span class="ignored">(</span><span class="numerator"><i>x</i><sup>(2<i>n</i> − 1)</sup></span><span class="ignored">)/(</span><span class="denominator">(2<i>n</i> − 1)!</span><span class="ignored">)</span></span>
</span>

</span>
<span class="arrayrow">
<span class="arraycell align-r">
 
</span>
<span class="arraycell align-c">
 
</span>
<span class="arraycell align-l">
 
</span>

</span>
<span class="arrayrow">
<span class="arraycell align-r">

</span>

</span>
</span><span class="emptydot"></span></span></p>
<p>Likewise, consider the following description:</p>
<blockquote>
<p>“Implement a function <span class="formula"><i>p</i>(<i>n</i>)</span> which for any <span class="formula"><i>n</i> ≥ 1</span> is equal to the following:</p>
<pre class="literal-block">
p(1) = 1
p(2) = 1 * 2 * 1
p(3) = 1 * 2 * 1 * 3 * 1 * 2 * 1
p(4) = 1 * 2 * 1 * 3 * 1 * 2 * 1 * 4 * 1 * 2 * 1 * 3 * 1 * 2 * 1
...
</pre>
</blockquote>
<p>As a first step we need to recognize the most simple case, this is given for p(1).</p>
<p>Then we need to recognize how p(n) is expressed from p(n-1). For this
we can look how p(2) is made from p(1):</p>
<pre class="literal-block">
p(2) = p(1) * 2 * p(1)
</pre>
<p>Then how p(3) is made from p(2):</p>
<pre class="literal-block">
p(3) = p(2) * 3 * p(2)
</pre>
<p>by trying out the first few terms, we recognize the pattern and we can generalize:</p>
<pre class="literal-block">
p(n) = p(n-1) * n * p(n-1)
</pre>
<p>From this we can express the full mathematical definition:</p>
<p><span class="formula"><span class="array"><span class="arrayrow"><span class="bracket align-left">⎧</span></span><span class="arrayrow"><span class="bracket align-left">⎪</span></span><span class="arrayrow"><span class="bracket align-left">⎪</span></span><span class="arrayrow"><span class="bracket align-left">⎨</span></span><span class="arrayrow"><span class="bracket align-left">⎪</span></span><span class="arrayrow"><span class="bracket align-left">⎪</span></span><span class="arrayrow"><span class="bracket align-left">⎩</span></span></span><span class="array"><span class="arrayrow">
<span class="arraycell align-r">
<i>p</i> : ℕ<sup>*</sup>
</span>
<span class="arraycell align-c">
 ↦ 
</span>
<span class="arraycell align-l">
ℕ<sup>*</sup>
</span>

</span>
<span class="arrayrow">
<span class="arraycell align-r">
 
</span>
<span class="arraycell align-c">
 
</span>
<span class="arraycell align-l">
 
</span>

</span>
<span class="arrayrow">
<span class="arraycell align-r">
<i>p</i>(1)
</span>
<span class="arraycell align-c">
 = 
</span>
<span class="arraycell align-l">
1
</span>

</span>
<span class="arrayrow">
<span class="arraycell align-r">
 
</span>
<span class="arraycell align-c">
 
</span>
<span class="arraycell align-l">
 
</span>

</span>
<span class="arrayrow">
<span class="arraycell align-r">
<i>p</i>(<i>n</i>)
</span>
<span class="arraycell align-c">
 = 
</span>
<span class="arraycell align-l">
<i>p</i>(<i>n</i> − 1)×<i>n</i>×<i>p</i>(<i>n</i> − 1)
</span>

</span>
<span class="arrayrow">
<span class="arraycell align-r">
 
</span>
<span class="arraycell align-c">
 
</span>
<span class="arraycell align-l">
 
</span>

</span>
<span class="arrayrow">
<span class="arraycell align-r">

</span>

</span>
</span><span class="emptydot"></span></span></p>
</div>
<div class="section" id="from-mathematical-definition-to-recursive-function">
<h1><a class="toc-backref" href="#toc-entry-3">From mathematical definition to recursive function</a></h1>
<p>Once you have obtained a mathematical inductive definition, it is
possible to transcribe the definition directly into a programming
language, to obtain a <em>recursive function</em>. To do this, proceed as
follows:</p>
<ol class="arabic simple">
<li>use the name of the function in the first line of the mathematical definition.</li>
<li>define the argument and return types using the domain and image sets of the mathematical definition.</li>
<li>inside the function body, use a <tt class="docutils literal">if</tt> construct to detect the base
cases. For each base case, use <tt class="docutils literal">return</tt> to set the corresponding
value.</li>
<li>in the <tt class="docutils literal">else</tt> branch that does not correspond to the base case, write
the general case. Do not hesitate to transcribe the mathematical definition without changes. It
is OK that the function name appears in your transcription.</li>
</ol>
<p>For example, consider the mathematical definition earlier:</p>
<p><span class="formula"><span class="array"><span class="arrayrow"><span class="bracket align-left">⎧</span></span><span class="arrayrow"><span class="bracket align-left">⎪</span></span><span class="arrayrow"><span class="bracket align-left">⎪</span></span><span class="arrayrow"><span class="bracket align-left">⎨</span></span><span class="arrayrow"><span class="bracket align-left">⎪</span></span><span class="arrayrow"><span class="bracket align-left">⎪</span></span><span class="arrayrow"><span class="bracket align-left">⎩</span></span></span><span class="array"><span class="arrayrow">
<span class="arraycell align-r">
<span class="text">fact</span> : ℕ
</span>
<span class="arraycell align-c">
 ↦ 
</span>
<span class="arraycell align-l">
ℕ<sup>*</sup>
</span>

</span>
<span class="arrayrow">
<span class="arraycell align-r">
 
</span>
<span class="arraycell align-c">
 
</span>
<span class="arraycell align-l">
 
</span>

</span>
<span class="arrayrow">
<span class="arraycell align-r">
<span class="text">fact</span>(0)
</span>
<span class="arraycell align-c">
 = 
</span>
<span class="arraycell align-l">
1
</span>

</span>
<span class="arrayrow">
<span class="arraycell align-r">
 
</span>
<span class="arraycell align-c">
 
</span>
<span class="arraycell align-l">
 
</span>

</span>
<span class="arrayrow">
<span class="arraycell align-r">
<span class="text"> fact</span>(<i>n</i>)
</span>
<span class="arraycell align-c">
 = 
</span>
<span class="arraycell align-l">
<i>n</i>×<span class="text">fact</span>(<i>n</i> − 1)
</span>

</span>
<span class="arrayrow">
<span class="arraycell align-r">
 
</span>
<span class="arraycell align-c">
 
</span>
<span class="arraycell align-l">
 
</span>

</span>
<span class="arrayrow">
<span class="arraycell align-r">

</span>

</span>
</span><span class="emptydot"></span></span></p>
<p>We take the name of the function, its domain and image and we transcribe:</p>
<pre class="code java literal-block">
<span class="kt">int</span><span class="w"> </span><span class="nf">fact</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">n</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</pre>
<p>Then we use a <tt class="docutils literal">if</tt> construct for the base case:</p>
<pre class="code java literal-block">
<span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">n</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w">
   </span><span class="k">return</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
</pre>
<p>Then we finish with the general case:</p>
<pre class="code java literal-block">
<span class="k">else</span><span class="w">
   </span><span class="k">return</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">fact</span><span class="p">(</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">);</span><span class="w">
</span><span class="p">}</span>
</pre>
<p>This gives us the following recursive function:</p>
<pre class="code java literal-block">
<span class="kt">int</span><span class="w"> </span><span class="nf">fact</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">n</span><span class="p">)</span><span class="w">
</span><span class="p">{</span><span class="w">
   </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">n</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w">
      </span><span class="k">return</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w">
   </span><span class="k">else</span><span class="w">
      </span><span class="k">return</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">fact</span><span class="p">(</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">);</span><span class="w">
</span><span class="p">}</span>
</pre>
<p>Likewise for the following definition:</p>
<p><span class="formula"><span class="array"><span class="arrayrow"><span class="bracket align-left">⎧</span></span><span class="arrayrow"><span class="bracket align-left">⎪</span></span><span class="arrayrow"><span class="bracket align-left">⎪</span></span><span class="arrayrow"><span class="bracket align-left">⎨</span></span><span class="arrayrow"><span class="bracket align-left">⎪</span></span><span class="arrayrow"><span class="bracket align-left">⎪</span></span><span class="arrayrow"><span class="bracket align-left">⎩</span></span></span><span class="array"><span class="arrayrow">
<span class="arraycell align-r">
<i>p</i> : ℕ<sup>*</sup>
</span>
<span class="arraycell align-c">
 ↦ 
</span>
<span class="arraycell align-l">
ℕ<sup>*</sup>
</span>

</span>
<span class="arrayrow">
<span class="arraycell align-r">
 
</span>
<span class="arraycell align-c">
 
</span>
<span class="arraycell align-l">
 
</span>

</span>
<span class="arrayrow">
<span class="arraycell align-r">
<i>p</i>(1)
</span>
<span class="arraycell align-c">
 = 
</span>
<span class="arraycell align-l">
1
</span>

</span>
<span class="arrayrow">
<span class="arraycell align-r">
 
</span>
<span class="arraycell align-c">
 
</span>
<span class="arraycell align-l">
 
</span>

</span>
<span class="arrayrow">
<span class="arraycell align-r">
<i>p</i>(<i>n</i>)
</span>
<span class="arraycell align-c">
 = 
</span>
<span class="arraycell align-l">
<i>p</i>(<i>n</i> − 1)×<i>n</i>×<i>p</i>(<i>n</i> − 1)
</span>

</span>
<span class="arrayrow">
<span class="arraycell align-r">
 
</span>
<span class="arraycell align-c">
 
</span>
<span class="arraycell align-l">
 
</span>

</span>
<span class="arrayrow">
<span class="arraycell align-r">

</span>

</span>
</span><span class="emptydot"></span></span></p>
<p>The resulting code is:</p>
<pre class="code java literal-block">
<span class="kt">int</span><span class="w"> </span><span class="nf">p</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">n</span><span class="p">)</span><span class="w">
</span><span class="p">{</span><span class="w">
   </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">n</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="w">
      </span><span class="k">return</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w">
   </span><span class="k">else</span><span class="w">
      </span><span class="k">return</span><span class="w"> </span><span class="n">p</span><span class="p">(</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">p</span><span class="p">(</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">);</span><span class="w">
</span><span class="p">}</span>
</pre>
<p>Likewise, for the following:</p>
<p><span class="formula"><span class="array"><span class="arrayrow"><span class="bracket align-left">⎧</span></span><span class="arrayrow"><span class="bracket align-left">⎪</span></span><span class="arrayrow"><span class="bracket align-left">⎪</span></span><span class="arrayrow"><span class="bracket align-left">⎨</span></span><span class="arrayrow"><span class="bracket align-left">⎪</span></span><span class="arrayrow"><span class="bracket align-left">⎪</span></span><span class="arrayrow"><span class="bracket align-left">⎩</span></span></span><span class="array"><span class="arrayrow">
<span class="arraycell align-r">
<span class="text">sine</span> : ℝ×ℕ
</span>
<span class="arraycell align-c">
 ↦ 
</span>
<span class="arraycell align-l">
ℝ
</span>

</span>
<span class="arrayrow">
<span class="arraycell align-r">
 
</span>
<span class="arraycell align-c">
 
</span>
<span class="arraycell align-l">
 
</span>

</span>
<span class="arrayrow">
<span class="arraycell align-r">
<span class="text">sine</span>(<i>x</i>, 1)
</span>
<span class="arraycell align-c">
 = 
</span>
<span class="arraycell align-l">
<i>x</i>
</span>

</span>
<span class="arrayrow">
<span class="arraycell align-r">
 
</span>
<span class="arraycell align-c">
 
</span>
<span class="arraycell align-l">
 
</span>

</span>
<span class="arrayrow">
<span class="arraycell align-r">
<span class="text">sine</span>(<i>x</i>, <i>n</i>)
</span>
<span class="arraycell align-c">
 = 
</span>
<span class="arraycell align-l">
<span class="text">sine</span>(<i>x</i>, <i>n</i> − 1) + ( − 1)<sup><i>n</i></sup><span class="fraction"><span class="ignored">(</span><span class="numerator"><i>x</i><sup>(2<i>n</i> − 1)</sup></span><span class="ignored">)/(</span><span class="denominator">(2<i>n</i> − 1)!</span><span class="ignored">)</span></span>
</span>

</span>
<span class="arrayrow">
<span class="arraycell align-r">
 
</span>
<span class="arraycell align-c">
 
</span>
<span class="arraycell align-l">
 
</span>

</span>
<span class="arrayrow">
<span class="arraycell align-r">

</span>

</span>
</span><span class="emptydot"></span></span></p>
<p>The resulting code is:</p>
<pre class="code java literal-block">
<span class="kt">double</span><span class="w"> </span><span class="nf">sine</span><span class="p">(</span><span class="kt">double</span><span class="w"> </span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">n</span><span class="p">)</span><span class="w">
</span><span class="p">{</span><span class="w">
   </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">n</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span><span class="w">
      </span><span class="k">return</span><span class="w"> </span><span class="n">x</span><span class="p">;</span><span class="w">
   </span><span class="k">else</span><span class="w">
      </span><span class="k">return</span><span class="w"> </span><span class="n">sine</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">sign</span><span class="p">(</span><span class="n">n</span><span class="p">)</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">pow</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="o">*</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">fact</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">);</span><span class="w">
</span><span class="p">}</span><span class="w">

</span><span class="c1">// Here we need some helper functions because</span><span class="w">
</span><span class="c1">// Java does not have a native operator for</span><span class="w">
</span><span class="c1">// exponentiation:</span><span class="w">

</span><span class="kt">int</span><span class="w"> </span><span class="nf">sign</span><span class="p">(</span><span class="n">n</span><span class="p">)</span><span class="w">
</span><span class="p">{</span><span class="w">
   </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">n</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w">
      </span><span class="k">return</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w">
   </span><span class="k">else</span><span class="w">
      </span><span class="k">return</span><span class="w"> </span><span class="o">-</span><span class="mi">1</span><span class="p">;</span><span class="w">
</span><span class="p">}</span><span class="w">

</span><span class="c1">// Notice how pow() is itself a recursive function.</span><span class="w">
</span><span class="kt">double</span><span class="w"> </span><span class="nf">pow</span><span class="p">(</span><span class="kt">double</span><span class="w"> </span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">n</span><span class="p">)</span><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">n</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w">
       </span><span class="k">return</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w">
    </span><span class="k">else</span><span class="w">
       </span><span class="k">return</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">pow</span><span class="p">(</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">);</span><span class="w">
</span><span class="p">}</span>
</pre>
</div>
<div class="section" id="important-concepts">
<h1><a class="toc-backref" href="#toc-entry-4">Important concepts</a></h1>
<ul class="simple">
<li><em>inductive definition</em> in maths;</li>
<li>standard format (presentation) for inductive definitions;</li>
<li><em>base case</em> and <em>general case</em>;</li>
<li>process to recognize an inductive definition;</li>
<li>process to translate an inductive definition in math into a recursive function in Java;</li>
</ul>
</div>
<div class="section" id="further-reading">
<h1><a class="toc-backref" href="#toc-entry-5">Further reading</a></h1>
<ul class="simple">
<li>Think Java, sections 4.8 &amp; 4.9 (pp. 44-46)</li>
<li>Introduction to Programming, section 9.1 (pp. 423-435)</li>
<li>Absolute Java, chapter 11 (pp. 648-687)</li>
</ul>
</div>
<hr class="docutils" />
<div class="section" id="copyright-and-licensing">
<h1><a class="toc-backref" href="#toc-entry-6">Copyright and licensing</a></h1>
<p>Copyright © 2014, Raphael ‘kena’ Poss.
Permission is granted to distribute, reuse and modify this document
according to the terms of the Creative Commons Attribution-ShareAlike
4.0 International License.  To view a copy of this license, visit
<a class="reference external" href="http://creativecommons.org/licenses/by-sa/4.0/">http://creativecommons.org/licenses/by-sa/4.0/</a>.</p>
</div>
</div>
</body>
</html>
