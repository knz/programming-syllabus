<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Docutils 0.20.1: https://docutils.sourceforge.io/" />
<title>Functions, procedures and methods</title>
<link rel="stylesheet" href="aux/min.css" type="text/css" />
</head>
<body>
<div class="document" id="functions-procedures-and-methods">
<h1 class="title">Functions, procedures and methods</h1>

<p>The <em>‚ÄúDon't Repeat Yourself‚Äù</em> principle requires that a code using two
or more times the same construct should be abstracted into a common
name.</p>
<p>With <a class="reference external" href="variables.html">constants</a> this was seen before, one can simply give a name to
the constant value and reuse this name instead of the value throughout
the rest of the code.</p>
<p>The question becomes tricky when it is not a constant but a full
computation that should be abstracted, for example:</p>
<pre class="code java literal-block">
<span class="kt">double</span><span class="w"> </span><span class="n">p1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">320</span><span class="p">;</span><span class="w">
</span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">p1</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">VAT</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">100</span><span class="p">);</span><span class="w">

</span><span class="kt">double</span><span class="w"> </span><span class="n">p2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">45</span><span class="p">;</span><span class="w">
</span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">p2</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">VAT</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">100</span><span class="p">);</span><span class="w">

</span><span class="kt">double</span><span class="w"> </span><span class="n">p3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">65.30</span><span class="p">;</span><span class="w">
</span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">println</span><span class="p">(</span><span class="n">p3</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">VAT</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">100</span><span class="p">);</span>
</pre>
<p>Here the entire pattern formed by ‚Äú<tt class="docutils literal">System.out.println(X * VAT /
100)</tt>‚Äù should be abstracted and it is not a simple constant.
This is where it becomes time to define a <em>function</em> instead.</p>
<div class="section" id="functions-the-mathematical-view">
<h1>Functions: the mathematical view</h1>
<p>In math we <em>define</em> a function for example like this:</p>
<blockquote>
<span class="formula"><i>f</i>(<i>x</i>)‚Äâ=‚Äâ<i>x</i>‚Äâ+‚Äâ1,‚Äâ‚ÄÅ‚àÄ<i>x</i>‚Äâ‚àà‚Äâ‚Ñù</span></blockquote>
<p>or:</p>
<blockquote>
<span class="formula"><i>f</i> : ‚àÄ<i>x</i>‚Äâ‚àà‚Äâ‚Ñù,‚Äâ<i>f</i>(<i>x</i>)‚Äâ=‚Äâ(<i>x</i>‚Äâ+‚Äâ1)‚Äâ‚àà‚Äâ‚Ñù</span></blockquote>
<p>or:</p>
<blockquote>
<span class="formula"><span class="array"><span class="arrayrow">
<span class="arraycell align-l">
<i>f</i> : ‚Ñù
</span>
<span class="arraycell align- ">
‚Äâ‚Ü¶‚Äâ
</span>
<span class="arraycell align-l">
‚Ñù
</span>

</span>
<span class="arrayrow">
<span class="arraycell align-l">
‚ÄÖ
</span>
<span class="arraycell align- ">
‚ÄÖ
</span>
<span class="arraycell align-l">
‚ÄÖ
</span>

</span>
<span class="arrayrow">
<span class="arraycell align-l">
<i>f</i> : <i>x</i>
</span>
<span class="arraycell align- ">
‚Äâ‚Ü¶‚Äâ
</span>
<span class="arraycell align-l">
<i>x</i>‚Äâ+‚Äâ1
</span>

</span>
</span></span></blockquote>
<p>When we do this we say ‚Äú<em>f</em> is a function from <span class="formula">‚Ñù</span> to
<span class="formula">‚Ñù</span>, which for every <em>x</em> equals <em>x+1</em>‚Äù. And when we say
this, we specify 5 things:</p>
<ul class="simple">
<li>the <em>name</em> of the function: <em>f</em></li>
<li>the <em>parameter</em> of the function: <em>x</em></li>
<li>the <em>domain</em> of the function (set of the parameter): <span class="formula">‚Ñù</span></li>
<li>the <em>expression</em> of the function: <em>x+1</em></li>
<li>the <em>image</em> or <em>range</em> of the function (set of the result): <span class="formula">‚Ñù</span></li>
</ul>
<p>The previous example has the same set as domain and image, but this is
not always so. For example:</p>
<blockquote>
<span class="formula"><span class="array"><span class="arrayrow">
<span class="arraycell align-l">
<i>g</i> : ‚Ñï√ó‚Ñï<sup>*</sup>
</span>
<span class="arraycell align- ">
‚Äâ‚Ü¶‚Äâ
</span>
<span class="arraycell align-l">
‚Ñö<sup>‚Äâ+‚Äâ</sup>
</span>

</span>
<span class="arrayrow">
<span class="arraycell align-l">
‚ÄÖ
</span>
<span class="arraycell align- ">
‚ÄÖ
</span>
<span class="arraycell align-l">
‚ÄÖ
</span>

</span>
<span class="arrayrow">
<span class="arraycell align-l">
<i>g</i> : <i>n</i>,‚Äâ<i>m</i>
</span>
<span class="arraycell align- ">
‚Äâ‚Ü¶‚Äâ
</span>
<span class="arraycell align-l">
<span class="fraction"><span class="ignored">(</span><span class="numerator"><i>n</i></span><span class="ignored">)/(</span><span class="denominator"><i>m</i></span><span class="ignored">)</span></span>
</span>

</span>
</span></span></blockquote>
<p>This function g has two parameters that are natural numbers, the
second parameter must be non-zero, and associates every pair of
parameters to the positive fractional number resulting from the
division of one by the other.</p>
<p>Once functions are defined in math, it is possible to <em>use</em> them
via the notation of ‚Äúapplication‚Äù, for example ‚Äúf(3)‚Äù or ‚Äúg(1,2)‚Äù
denote respectively the application of <em>f</em> on the value 3, and
the application of <em>g</em> on the pair (1, 2).</p>
</div>
<div class="section" id="simple-functions-math-functions-in-code">
<h1>Simple functions: math functions in code</h1>
<p>Each programming language has its own way to define and use functions
in the mathematical sense. In Java, we use the following general
construct:</p>
<p>Syntax:</p>
<blockquote>
<p>&lt;type&gt; &lt;name&gt; <tt class="docutils literal">(</tt> <sub>[</sub> &lt;type&gt; &lt;name&gt; <sub>[</sub> <tt class="docutils literal">,</tt> &lt;type&gt; &lt;name&gt; <sub>]*</sub> <sub>]</sub> <tt class="docutils literal">)</tt> <tt class="docutils literal">{</tt> &lt;statements...&gt; <tt class="docutils literal">}</tt></p>
<p>(a type followed by a name followed by an opening parenthesis,
followed by zero or more occurrences of a type followed by a name,
separated by commas, followed by a closing parenthesis)</p>
</blockquote>
<p>Semantics:</p>
<blockquote>
<p>Defines a function with the name defined on the left before the
opening parenthesis, with the parameters defined within the
parentheses, with the various domains and image set describes by
data types. The image is given by the type on the far left, whereas
the domain set(s) are given by the type(s) between parentheses.
Every time the function is applied (see below), the statements
given on the right will be executed again.</p>
<p>Furthermore, within the ‚Äú&lt;statements...&gt;‚Äù part on the right,
the special construct is recognized:</p>
<p>Syntax:</p>
<blockquote>
<p><tt class="docutils literal">return</tt> &lt;value&gt; <tt class="docutils literal">;</tt></p>
<p>(the keyword ‚Äú<tt class="docutils literal">return</tt>‚Äù followed by a value followed by a
semicolon)</p>
</blockquote>
<p>Semantics:</p>
<blockquote>
When this point is reached during execution, the value
on the right becomes the value for the entire function
and the execution of the function stops.</blockquote>
</blockquote>
<p>To use this, the following general method applies:</p>
<ol class="arabic simple">
<li>ensure you have a good understanding of which mathematical function you want to encode.</li>
<li>select a name for the function. Write this, followed by an opening and closing parenthesis.</li>
<li>between the parenthesis, write the name of the parameters.</li>
<li>in front of every name, select a type that describes the domain of the parameter (see below).</li>
<li>in front of the name of the function, select a type that describes the image of the function.</li>
<li>encode the expression of the function between the braces <tt class="docutils literal">{</tt> and <tt class="docutils literal">}</tt>.</li>
</ol>
<p>For example, the functions <em>f</em> and <em>g</em> presented above can be encoded as
follows:</p>
<pre class="code java literal-block">
<span class="kt">int</span><span class="w"> </span><span class="nf">f</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">x</span><span class="p">)</span><span class="w">
</span><span class="p">{</span><span class="w">
   </span><span class="k">return</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w">
</span><span class="p">}</span><span class="w">

</span><span class="kt">double</span><span class="w"> </span><span class="nf">g</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">n</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">m</span><span class="p">)</span><span class="w">
</span><span class="p">{</span><span class="w">
   </span><span class="k">return</span><span class="w"> </span><span class="n">n</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">m</span><span class="p">;</span><span class="w">
</span><span class="p">}</span>
</pre>
<p>Once we have a function in code, we can use it like in math using the
application construct seen in a previous lecture:</p>
<p>Syntax:</p>
<blockquote>
<p>&lt;name&gt; <tt class="docutils literal">(</tt> &lt;value&gt; <sub>[</sub> <tt class="docutils literal">,</tt> &lt;value&gt; <sub>]*</sub> <tt class="docutils literal">)</tt></p>
<p>(A name followed by an opening parenthesis followed by zero
or more values separated by commas, followed by a closing parenthesis.)</p>
</blockquote>
<p>Semantics:</p>
<blockquote>
when evaluating an expression of this form, the function designated
by the name on the right is invoked using the values between
parentheses as input arguments; when it completes execution, its
return value becomes the value of the entire expression.</blockquote>
<p>For example:</p>
<pre class="code java literal-block">
<span class="kt">int</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">f</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span><span class="w">  </span><span class="c1">// stores 4 in y</span><span class="w">

</span><span class="kt">double</span><span class="w"> </span><span class="n">z</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">g</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">);</span><span class="w"> </span><span class="c1">// stores 0.5 in z</span>
</pre>
</div>
<div class="section" id="choice-of-types-for-functions">
<h1>Choice of types for functions</h1>
<p>When encoding from math, we encounter the issue that Java data types
do not map exactly to the common sets in calculus. Instead the
following approximation are commonly used:</p>
<table border="1" class="docutils">
<colgroup>
<col width="32%" />
<col width="68%" />
</colgroup>
<thead valign="bottom">
<tr><th class="head">Set in maths</th>
<th class="head">Type in Java, C, C++</th>
</tr>
</thead>
<tbody valign="top">
<tr><td><span class="formula">‚Ñï`</span></td>
<td><tt class="docutils literal">int</tt> (or <tt class="docutils literal">byte</tt>, <tt class="docutils literal">short</tt>, <tt class="docutils literal">long</tt>)</td>
</tr>
<tr><td><span class="formula">‚Ñ§`</span></td>
<td><tt class="docutils literal">int</tt> (or <tt class="docutils literal">byte</tt>, <tt class="docutils literal">short</tt>, <tt class="docutils literal">long</tt>)</td>
</tr>
<tr><td><span class="formula">‚Ñö`</span></td>
<td><tt class="docutils literal">double</tt> (or <tt class="docutils literal">float</tt>)</td>
</tr>
<tr><td><span class="formula">‚Ñù`</span></td>
<td><tt class="docutils literal">double</tt> (or <tt class="docutils literal">float</tt>)</td>
</tr>
<tr><td><span class="formula">ùîπ`</span></td>
<td><tt class="docutils literal">boolean</tt></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="functions-with-effects">
<h1>Functions with effects</h1>
<p>In languages like Java we have statements that ‚Äúdo‚Äù things
in addition to simple computations, like printing values
to screen (<tt class="docutils literal">System.out.println</tt> etc.).</p>
<p>It is possible to use these statements inside a function,
which means the function can compute a value <em>and</em> also
perform some effects. Consider for example:</p>
<pre class="code java literal-block">
<span class="kd">final</span><span class="w"> </span><span class="kt">float</span><span class="w"> </span><span class="n">VAT_RATE</span><span class="w"> </span><span class="mf">21.0</span><span class="p">;</span><span class="w"> </span><span class="c1">// value added tax</span><span class="w">

</span><span class="kt">float</span><span class="w"> </span><span class="nf">computeVat</span><span class="p">(</span><span class="kt">float</span><span class="w"> </span><span class="n">price</span><span class="p">)</span><span class="w">
</span><span class="p">{</span><span class="w">
     </span><span class="kt">float</span><span class="w"> </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">price</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">VAT_RATE</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">100</span><span class="p">;</span><span class="w">
     </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">printf</span><span class="p">(</span><span class="s">&quot;price = %.2f, vat = %.2f\n&quot;</span><span class="p">,</span><span class="w">
                       </span><span class="n">price</span><span class="p">,</span><span class="w"> </span><span class="n">result</span><span class="p">);</span><span class="w">
     </span><span class="k">return</span><span class="w"> </span><span class="n">result</span><span class="p">;</span><span class="w">
</span><span class="p">}</span><span class="w">

</span><span class="kt">void</span><span class="w"> </span><span class="nf">start</span><span class="p">()</span><span class="w">
</span><span class="p">{</span><span class="w">
     </span><span class="kt">float</span><span class="w"> </span><span class="n">p1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">320</span><span class="p">;</span><span class="w">
     </span><span class="kt">float</span><span class="w"> </span><span class="n">t1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">computeVat</span><span class="p">(</span><span class="n">p1</span><span class="p">);</span><span class="w">
     </span><span class="kt">float</span><span class="w"> </span><span class="n">p2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">441</span><span class="p">;</span><span class="w">
     </span><span class="kt">float</span><span class="w"> </span><span class="n">t2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">computeVat</span><span class="p">(</span><span class="n">p2</span><span class="p">);</span><span class="w">
     </span><span class="kt">float</span><span class="w"> </span><span class="n">p3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">112</span><span class="p">;</span><span class="w">
     </span><span class="kt">float</span><span class="w"> </span><span class="n">t3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">computeVat</span><span class="p">(</span><span class="n">p3</span><span class="p">);</span><span class="w">
     </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">printf</span><span class="p">(</span><span class="s">&quot;Total VAT: %.2f\n&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">t1</span><span class="o">+</span><span class="n">t2</span><span class="o">+</span><span class="n">t3</span><span class="p">);</span><span class="w">
</span><span class="p">}</span>
</pre>
<p>When run, this program will enter the function <tt class="docutils literal">computeVat</tt> three times, and every time
the effects inside it will be carried out. So the program prints:</p>
<pre class="literal-block">
price = 320.00, vat = 67.20
price = 441.00, vat = 92.61
price = 112.00, vat = 23.52
Total VAT: 183.33
</pre>
<p>With regards to terminology, we say that a function that contains
effect-performing statements is an <em>effectful function</em>.</p>
</div>
<div class="section" id="procedures-functions-with-effects-without-value">
<h1>Procedures: ‚Äúfunctions‚Äù <em>with</em> effects, <em>without</em> value</h1>
<p>Say you have a program where some effect is repeated two or more times. For example:</p>
<pre class="code java literal-block">
<span class="n">Scanner</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Scanner</span><span class="p">(</span><span class="n">System</span><span class="p">.</span><span class="na">in</span><span class="p">);</span><span class="w">

</span><span class="n">String</span><span class="w"> </span><span class="n">n1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">in</span><span class="p">.</span><span class="na">next</span><span class="p">();</span><span class="w">
</span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">printf</span><span class="p">(</span><span class="s">&quot;Hi %s!\n&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">n1</span><span class="p">);</span><span class="w">
</span><span class="n">String</span><span class="w"> </span><span class="n">n2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">in</span><span class="p">.</span><span class="na">next</span><span class="p">();</span><span class="w">
</span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">printf</span><span class="p">(</span><span class="s">&quot;Hi %s!\n&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">n2</span><span class="p">);</span><span class="w">
</span><span class="n">String</span><span class="w"> </span><span class="n">n3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">in</span><span class="p">.</span><span class="na">next</span><span class="p">();</span><span class="w">
</span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">printf</span><span class="p">(</span><span class="s">&quot;Hi %s!\n&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">n3</span><span class="p">);</span>
</pre>
<p>As usual, as per the DRY rule we should abstract the common pattern in
its own function. We can easily see the common parameter (the Scanner
<tt class="docutils literal">in</tt>), and the common effect (<tt class="docutils literal">next()</tt> followed by
<tt class="docutils literal">printf()</tt>). However there is no mathematical value being computed,
in other words the mathematical image of the function is not defined!</p>
<p>So what we really want to write looks like this:</p>
<pre class="code java literal-block">
<span class="cm">/* nothing */</span><span class="w"> </span><span class="n">greet</span><span class="p">(</span><span class="n">Scanner</span><span class="w"> </span><span class="n">in</span><span class="p">)</span><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="n">String</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">in</span><span class="p">.</span><span class="na">next</span><span class="p">();</span><span class="w">
    </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">printf</span><span class="p">(</span><span class="s">&quot;Hi %s!\n&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">name</span><span class="p">);</span><span class="w">
    </span><span class="cm">/* no return */</span><span class="w">
</span><span class="p">}</span><span class="w">

</span><span class="c1">// (... later on ...)</span><span class="w">

</span><span class="n">Scanner</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Scanner</span><span class="p">(</span><span class="n">System</span><span class="p">.</span><span class="na">in</span><span class="p">);</span><span class="w">
</span><span class="n">greet</span><span class="p">(</span><span class="n">in</span><span class="p">);</span><span class="w">
</span><span class="n">greet</span><span class="p">(</span><span class="n">in</span><span class="p">);</span><span class="w">
</span><span class="n">greet</span><span class="p">(</span><span class="n">in</span><span class="p">);</span>
</pre>
<p>This is very well possible, however the syntax for a function
definition is very strict: there must be <em>something</em> in the position
before the name of the function.</p>
<p>For this purpose, languages in the C/C++/Java family have a special
keyword: ‚Äú<tt class="docutils literal">void</tt>‚Äù. <em>The ``void`` keyword is used every time there is
a syntax position for a type in the language, but no type makes sense
in that position.</em></p>
<p>This is particularly the case for the function above:</p>
<pre class="code java literal-block">
<span class="kt">void</span><span class="w"> </span><span class="nf">greet</span><span class="p">(</span><span class="n">Scanner</span><span class="w"> </span><span class="n">in</span><span class="p">)</span><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="n">String</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">in</span><span class="p">.</span><span class="na">next</span><span class="p">();</span><span class="w">
    </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">printf</span><span class="p">(</span><span class="s">&quot;Hi %s!\n&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">name</span><span class="p">);</span><span class="w">
    </span><span class="cm">/* no return */</span><span class="w">
</span><span class="p">}</span>
</pre>
<p>Such a function that performs some effects but does not compute
a result is called a <em>procedure</em> in most programming language.
The word ‚Äúsubroutine‚Äù is also used in some books but is quite old-fashioned.</p>
</div>
<div class="section" id="vocabulary">
<h1>Vocabulary</h1>
<p>In this lecture we have seen in turn:</p>
<ul class="simple">
<li>‚Äúsimple‚Äù functions with no effects, that mirror mathematics; these
are called <em>pure functions</em>;</li>
<li>functions that contain some effectful statements, also called
<em>effectful functions</em>, further divided in:<ul>
<li>functions that have some effects and also compute a value (no special name), and</li>
<li>functions that have some effects and do not compute a value, also
called <em>procedures</em>, in Java denoted with the keyword ‚Äú<tt class="docutils literal">void</tt>‚Äù
instead of a return type.</li>
</ul>
</li>
</ul>
<p>The terms ‚Äúpure function‚Äù, ‚Äúeffectful function‚Äù and ‚Äúprocedure‚Äù are
very general and used throughout all programming languages.</p>
<p>Meanwhile, as we have seen before there is another concept looming on
the horizon, that of ‚Äúobjects‚Äù as in ‚Äúobject-oriented programming‚Äù. If
you remember the <a class="reference external" href="objintro.html">previous lecture</a>, Java is part of a family of
languages that provides construct for objects, in particular
classes.</p>
<p>Classes, in object-oriented programming, can define their own ‚Äúlocal
functions‚Äù that make a function specific to a group of objects. So on
top of the distinction above, a distinction is often made between:</p>
<p>‚Äì ‚Äúglobal‚Äù functions that are applicable in general, independently from classes; and
‚Äì ‚Äúlocal‚Äù functions within a specific class. These are called <em>methods</em>.</p>
<p>For example in Python:</p>
<pre class="code python literal-block">
<span class="k">def</span> <span class="nf">sayhi</span><span class="p">():</span><span class="w">
</span>   <span class="c1"># this function is global</span><span class="w">
</span>   <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Hi!&quot;</span><span class="p">)</span><span class="w">

</span><span class="k">class</span> <span class="nc">Hello</span><span class="p">:</span><span class="w">

</span>   <span class="k">def</span> <span class="nf">sayhi</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span><span class="w">
</span>       <span class="c1"># this function is local</span><span class="w">
</span>       <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Hi!&quot;</span><span class="p">)</span>
</pre>
<p>Most language have objet orientation as an optional feature, so a
programmer can use global functions as long as no class is
needed. Unfortunately, Java makes object orientation mandatory, which
means that <em>all functions in Java are local to a class, ie. all
functions must be methods</em>.</p>
<p>Because of this specific feature, people using only Java usually confuse
the words ‚Äúfunction‚Äù and ‚Äúmethod‚Äù: they would not know any better, because
they never have seen a function that was not also a method! But do not be
intimidated by this conflation, the terms are really distinct and you
would do yourself a favour by remembering the difference.</p>
<p>Any way, the example above really should be placed in their class context,
so we should really have written the following:</p>
<pre class="code java literal-block">
<span class="kd">class</span> <span class="nc">Hello</span><span class="w">
</span><span class="p">{</span><span class="w">

  </span><span class="kt">void</span><span class="w"> </span><span class="nf">greet</span><span class="p">(</span><span class="n">Scanner</span><span class="w"> </span><span class="n">in</span><span class="p">)</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="n">String</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">in</span><span class="p">.</span><span class="na">next</span><span class="p">();</span><span class="w">
    </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">printf</span><span class="p">(</span><span class="s">&quot;Hi %s!\n&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">name</span><span class="p">);</span><span class="w">
  </span><span class="p">}</span><span class="w">

  </span><span class="kt">void</span><span class="w"> </span><span class="nf">start</span><span class="p">()</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="n">Scanner</span><span class="w"> </span><span class="n">in</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Scanner</span><span class="p">(</span><span class="n">System</span><span class="p">.</span><span class="na">in</span><span class="p">);</span><span class="w">
    </span><span class="n">greet</span><span class="p">(</span><span class="n">in</span><span class="p">);</span><span class="w">
    </span><span class="n">greet</span><span class="p">(</span><span class="n">in</span><span class="p">);</span><span class="w">
    </span><span class="n">greet</span><span class="p">(</span><span class="n">in</span><span class="p">);</span><span class="w">
  </span><span class="p">}</span><span class="w">

  </span><span class="c1">// ... a main() function somewhere here ...</span><span class="w">
</span><span class="p">}</span>
</pre>
<p>In this code we have a class named ‚ÄúHello‚Äù that defines two methods,
one procedure called ‚Äúgreet‚Äù and another procedure called ‚Äústart‚Äù.</p>
</div>
<div class="section" id="arguments-are-passed-by-value">
<h1>Arguments are passed by value</h1>
<p>There is a peculiarity of a lot of programming languages that tends to
throw off some beginner programmers:</p>
<pre class="code java literal-block">
<span class="kt">void</span><span class="w"> </span><span class="nf">foo</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">x</span><span class="p">)</span><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="kt">int</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">3</span><span class="p">;</span><span class="w">
    </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">printf</span><span class="p">(</span><span class="s">&quot;foo %d %d\n&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="p">);</span><span class="w">
    </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">2</span><span class="p">;</span><span class="w">
</span><span class="p">}</span><span class="w">

</span><span class="kt">void</span><span class="w"> </span><span class="nf">start</span><span class="p">()</span><span class="w">
</span><span class="p">{</span><span class="w">
    </span><span class="kt">int</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">123</span><span class="p">;</span><span class="w">
    </span><span class="kt">int</span><span class="w"> </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span><span class="w">
    </span><span class="n">foo</span><span class="p">(</span><span class="n">x</span><span class="p">);</span><span class="w">
    </span><span class="n">System</span><span class="p">.</span><span class="na">out</span><span class="p">.</span><span class="na">printf</span><span class="p">(</span><span class="s">&quot;start %d %d\n&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">x</span><span class="p">,</span><span class="w"> </span><span class="n">y</span><span class="p">);</span><span class="w">
</span><span class="p">}</span>
</pre>
<p>What does this program print? Try it out before reading further.</p>
<p>The answer most beginners will propose is the following:</p>
<pre class="literal-block">
foo 123 120
start 125 120
</pre>
<p>However, the correct answer is the following:</p>
<pre class="literal-block">
foo 123 120
start 123 113
</pre>
<p>What is happening here? The key idea that you need to remember is that
in Java, <em>the values of parameters that are received by a function
body are copies of the values in the caller function</em>. Notice the word
‚Äúcopies‚Äù! So no original. This means that the original variable is
left unchanged in the caller function (<tt class="docutils literal">start</tt> in the example)
during the computation of the called function (<tt class="docutils literal">foo</tt> in the
example). Moreover, the variables declared locally in each function
(eg. <tt class="docutils literal">y</tt> in <tt class="docutils literal">foo</tt>) are just this, ‚Äúlocal‚Äù, so they are different variables
from the variables with the same name in other functions (eg. <tt class="docutils literal">y</tt> in
<tt class="docutils literal">start</tt>).</p>
<p>This idea is summarized by saying ‚Äúarguments are passed by value‚Äù and
‚Äúlocal variables are not shared between functions‚Äù. This is a
characteristing of Java and some other programming languages, and it
does not hold in others. Be sure you pay attention to this feature
when you learn a new language.</p>
</div>
<div class="section" id="important-concepts">
<h1>Important concepts</h1>
<ul class="simple">
<li>the mathematic concepts around a function, in particular <em>parameter</em>, <em>domain</em>, <em>expression</em>, <em>image</em></li>
<li>how to transcribe a mathematical function into Java;</li>
<li>the common mappings of mathematical sets into Java data types;</li>
<li>the role of ‚Äú<tt class="docutils literal">return</tt>‚Äù;</li>
<li>the difference between a <em>pure</em> and non-pure function;</li>
<li>the difference between a non-pure function and a <em>procedure</em>;</li>
<li>the role of ‚Äú<tt class="docutils literal">void</tt>‚Äù;</li>
<li>the meaning of the word <em>method</em>;</li>
<li>how arguments to functions are passed by value and how to use this fact
when reading/analysing a program.</li>
</ul>
</div>
<div class="section" id="further-reading">
<h1>Further reading</h1>
<ul class="simple">
<li>Introduction to Programming, chapter 4 up to and including 4.3.4 (pp. 135-151)</li>
<li>Think Java, chapter 6 up to and including 6.3 (pp. 55-60), chapter 3 (pp. 25-38)</li>
</ul>
</div>
<hr class="docutils" />
<div class="section" id="copyright-and-licensing">
<h1>Copyright and licensing</h1>
<p>Copyright ¬© 2014, Raphael ‚Äòkena‚Äô Poss.
Permission is granted to distribute, reuse and modify this document
according to the terms of the Creative Commons Attribution-ShareAlike
4.0 International License.  To view a copy of this license, visit
<a class="reference external" href="http://creativecommons.org/licenses/by-sa/4.0/">http://creativecommons.org/licenses/by-sa/4.0/</a>.</p>
</div>
</div>
</body>
</html>
